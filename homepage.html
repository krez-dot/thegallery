<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Primary Meta Tags -->
    <title>The Gallery</title>
    <meta
      name="description"
      content="Explore our curated collection of art from Renaissance to Contemporary, featuring works by famous painters like Da Vinci, Van Gogh, Monet. Virtual  experience."
    />
    <meta
      name="keywords"
      content="art gallery, paintings, contemporary art, renaissance art, modern art, photography, Leonardo da Vinci, Van Gogh, Monet, art exhibition"
    />
    <meta name="author" content="The Gallery" />
    <meta
      http-equiv="Cache-Control"
      content="no-cache, no-store, must-revalidate"
    />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <meta
      property="og:title"
      content="The Gallery - Art Collection & Exhibitions"
    />
    <meta
      property="og:description"
      content="Explore our curated collection of art from Renaissance to Contemporary. Virtual art gallery experience."
    />
    <link rel="canonical" href="https://krez-dot.github.io/the-gallery/" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Roboto:wght@400&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" href="images/logo.png" type="image/x-icon" />
    <link rel="stylesheet" href="styles/homepage.css" />
  </head>
  <body>
    <!-- Background Audio Controls -->
    <!-- Background Audio Controls -->
<div class="audio-controls">
  <div class="audio-player">
    <div class="track-info">
      <div class="track-title">Gymnopédie No. 1 • Erik Satie</div>
    </div>
    
    <button class="audio-btn" id="audioToggle">
      <svg class="audio-icon" viewBox="0 0 24 24" id="audioIcon">
        <path d="M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
        <path d="M16 7.96v8.08c1.21-.91 2-2.38 2-4.04s-.79-3.13-2-4.04z"/>
        <path d="M3 9v6h4l5 5V4L7 9H3z"/>
      </svg>
      <svg class="muted-icon" viewBox="0 0 24 24" style="display: none">
        <path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/>
      </svg>
    </button>
    
    <div class="volume-controls">
      <div class="volume-slider-container">
        <input type="range" class="volume-slider" id="volumeControl" min="0" max="100" value="30">
        <div class="volume-level">30%</div>
      </div>
    </div>
    
    <div class="visualizer">
      <div class="visualizer-bar"></div>
      <div class="visualizer-bar"></div>
      <div class="visualizer-bar"></div>
      <div class="visualizer-bar"></div>
      <div class="visualizer-bar"></div>
    </div>
  </div>
</div>
    <!-- Background Audio Element -->
    <audio id="backgroundAudio" loop>
      <source src="gymnopedie-no1.mp3" type="audio/mpeg" />
    </audio>
    <div class="page-container">
      <!-- Mobile Menu Toggle -->
      <div class="mobile-menu-toggle">
        <span></span>
        <span></span>
        <span></span>
      </div>
      <!-- Mobile Overlay -->
      <div class="mobile-overlay"></div>
      <!-- Top Header -->
      <div class="top-header"></div>
      <!-- Sidebar Navigation -->
      <div class="sidebar">
        <div class="sidebar-content">
          <div class="sidebar-title">THE GALLERY</div>
          <div class="sidebar-divider"></div>
          <!-- Navigation Items -->
          <div class="nav-item active">
            <div class="nav-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640">
                <path
                  fill="#443627"
                  d="M341.8 72.6C329.5 61.2 310.5 61.2 298.3 72.6L74.3 280.6C64.7 289.6 61.5 303.5 66.3 315.7C71.1 327.9 82.8 336 96 336L112 336L112 512C112 547.3 140.7 576 176 576L464 576C499.3 576 528 547.3 528 512L528 336L544 336C557.2 336 569 327.9 573.8 315.7C578.6 303.5 575.4 289.5 565.8 280.6L341.8 72.6zM304 384L336 384C362.5 384 384 405.5 384 432L384 528L256 528L256 432C256 405.5 277.5 384 304 384z"
                />
              </svg>
            </div>
            <div class="nav-text">Home</div>
          </div>
          <div class="nav-item">
            <div class="nav-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640">
                <path
                  fill="#443627"
                  d="M576 320C576 320.9 576 321.8 576 322.7C575.6 359.2 542.4 384 505.9 384L408 384C381.5 384 360 405.5 360 432C360 435.4 360.4 438.7 361 441.9C363.1 452.1 367.5 461.9 371.8 471.8C377.9 485.6 383.9 499.3 383.9 513.8C383.9 545.6 362.3 574.5 330.5 575.8C327 575.9 323.5 576 319.9 576C178.5 576 63.9 461.4 63.9 320C63.9 178.6 178.6 64 320 64C461.4 64 576 178.6 576 320zM192 352C192 334.3 177.7 320 160 320C142.3 320 128 334.3 128 352C128 369.7 142.3 384 160 384C177.7 384 192 369.7 192 352zM192 256C209.7 256 224 241.7 224 224C224 206.3 209.7 192 192 192C174.3 192 160 206.3 160 224C160 241.7 174.3 256 192 256zM352 160C352 142.3 337.7 128 320 128C302.3 128 288 142.3 288 160C288 177.7 302.3 192 320 192C337.7 192 352 177.7 352 160zM448 256C465.7 256 480 241.7 480 224C480 206.3 465.7 192 448 192C430.3 192 416 206.3 416 224C416 241.7 430.3 256 448 256z"
                />
              </svg>
            </div>
            <div class="nav-text">Painter</div>
          </div>
          <div class="nav-item">
            <div class="nav-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640">
                <!--!Font Awesome Free v7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.-->
                <path
                  fill="#443627"
                  d="M373.5 27.1c15-17.2 36.7-27.1 59.6-27.1 43.6 0 79 35.4 79 79 0 22.8-9.9 44.6-27.1 59.6L283.7 313.8 273 303 209 239 198.2 228.3 373.5 27.1zM161.1 259C162 260 188 286 239 337l13.9 13.9-17.1 74.2c-3.9 17.1-16.9 30.7-33.8 35.4l-169.8 47.5 92.3-92.3c1.2 .1 2.3 .2 3.5 .2 17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32c0 1.2 .1 2.4 .2 3.5L3.9 479.8 51.5 310c4.7-16.9 18.3-29.9 35.4-33.8L161.1 259z"
                />
              </svg>
            </div>
            <div class="nav-text">Contemporary</div>
          </div>
          <div class="nav-item">
            <div class="nav-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                <!--!Font Awesome Free v7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.-->
                <path
                  fill="#443627"
                  d="M352.9 21.2L308 66.1 445.9 204 490.8 159.1C504.4 145.6 512 127.2 512 108s-7.6-37.6-21.2-51.1L455.1 21.2C441.6 7.6 423.2 0 404 0s-37.6 7.6-51.1 21.2zM274.1 100L58.9 315.1c-10.7 10.7-18.5 24.1-22.6 38.7L.9 481.6c-2.3 8.3 0 17.3 6.2 23.4s15.1 8.5 23.4 6.2l127.8-35.5c14.6-4.1 27.9-11.8 38.7-22.6L412 237.9 274.1 100z"
                />
              </svg>
            </div>
            <div class="nav-text">Modern</div>
          </div>
          <div class="nav-item">
            <div class="nav-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640">
                <path
                  fill="#443627"
                  d="M512.5 74.3L291.1 222C262 241.4 243.5 272.9 240.5 307.3C302.8 320.1 351.9 369.2 364.8 431.6C399.3 428.6 430.7 410.1 450.1 381L597.7 159.5C604.4 149.4 608 137.6 608 125.4C608 91.5 580.5 64 546.6 64C534.5 64 522.6 67.6 512.5 74.3zM320 464C320 402.1 269.9 352 208 352C146.1 352 96 402.1 96 464C96 467.9 96.2 471.8 96.6 475.6C98.4 493.1 86.4 512 68.8 512L64 512C46.3 512 32 526.3 32 544C32 561.7 46.3 576 64 576L208 576C269.9 576 320 525.9 320 464z"
                />
              </svg>
            </div>
            <div class="nav-text">Renaissance</div>
          </div>
          <div class="nav-item">
            <div class="nav-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640">
                <path
                  fill="#443627"
                  d="M213.1 128.8L202.7 160L128 160C92.7 160 64 188.7 64 224L64 480C64 515.3 92.7 544 128 544L512 544C547.3 544 576 515.3 576 480L576 224C576 188.7 547.3 160 512 160L437.3 160L426.9 128.8C420.4 109.2 402.1 96 381.4 96L258.6 96C237.9 96 219.6 109.2 213.1 128.8zM320 256C373 256 416 299 416 352C416 405 373 448 320 448C267 448 224 405 224 352C224 299 267 256 320 256z"
                />
              </svg>
            </div>
            <div class="nav-text">Photography</div>
          </div>
          <div class="nav-item" data-href="contact.html">
            <div class="nav-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640">
                <path
                  fill="#443627"
                  d="M448 112C456.8 112 464 119.2 464 128L464 512C464 520.8 456.8 528 448 528L160 528C151.2 528 144 520.8 144 512L144 128C144 119.2 151.2 112 160 112L448 112zM160 64C124.7 64 96 92.7 96 128L96 512C96 547.3 124.7 576 160 576L448 576C483.3 576 512 547.3 512 512L512 128C512 92.7 483.3 64 448 64L160 64zM304 312C334.9 312 360 286.9 360 256C360 225.1 334.9 200 304 200C273.1 200 248 225.1 248 256C248 286.9 273.1 312 304 312zM272 352C227.8 352 192 387.8 192 432C192 440.8 199.2 448 208 448L400 448C408.8 448 416 440.8 416 432C416 387.8 380.2 352 336 352L272 352zM576 144C576 135.2 568.8 128 560 128C551.2 128 544 135.2 544 144L544 208C544 216.8 551.2 224 560 224C568.8 224 576 216.8 576 208L576 144zM560 256C551.2 256 544 263.2 544 272L544 336C544 344.8 551.2 352 560 352C568.8 352 576 344.8 576 336L576 272C576 263.2 568.8 256 560 256zM576 400C576 391.2 568.8 384 560 384C551.2 384 544 391.2 544 400L544 464C544 472.8 551.2 480 560 480C568.8 480 576 472.8 576 464L576 400z"
                />
              </svg>
            </div>
            <div class="nav-text">Contact</div>
          </div>
          <div class="nav-item" data-href="about.html">
            <div class="nav-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640">
                <path
                  fill="#443627"
                  d="M96 96C60.7 96 32 124.7 32 160L32 480C32 515.3 60.7 544 96 544L544 544C579.3 544 608 515.3 608 480L608 160C608 124.7 579.3 96 544 96L96 96zM176 352L240 352C284.2 352 320 387.8 320 432C320 440.8 312.8 448 304 448L112 448C103.2 448 96 440.8 96 432C96 387.8 131.8 352 176 352zM152 256C152 225.1 177.1 200 208 200C238.9 200 264 225.1 264 256C264 286.9 238.9 312 208 312C177.1 312 152 286.9 152 256zM392 208L504 208C517.3 208 528 218.7 528 232C528 245.3 517.3 256 504 256L392 256C378.7 256 368 245.3 368 232C368 218.7 378.7 208 392 208zM392 304L504 304C517.3 304 528 314.7 528 328C528 341.3 517.3 352 504 352L392 352C378.7 352 368 341.3 368 328C368 314.7 378.7 304 392 304z"
                />
              </svg>
            </div>
            <div class="nav-text">About</div>
          </div>
        </div>
      </div>
      <!-- Main Content -->
      <div class="main-content">
        <!-- Hero Section -->
        <section class="section hero-section">
          <img class="hero-image" src="images/default.jpg" alt="Gallery Hero" />
          <h1 class="hero-title">THE GALLERY</h1>
          <p class="hero-description">
            <span>welcome to </span>
            <span class="hero-description-bold">the gallery</span>
            <span
              >— a space dedicated to celebrating creativity, emotion, and
              vision. here, every artwork tells a story, inviting you to look
              closer, feel deeper, and discover the connections between art and
              life. whether you are an admirer, a collector, or simply curious,
              we're glad you're here to explore and be inspired.</span
            >
          </p>
        </section>

        <div class="section-divider"></div>

        <!-- Famous Painters Section -->
        <section class="section painters-section">
          <h2 class="painters-title">Famous Painter</h2>
          <div class="painters-container">
            <div class="painter-card leonardo">
              <img src="images/leonardo.png" alt="Leonardo Da Vinci" />
              <div class="painter-name">Leonardo Da Vinci</div>
              <div class="painter-bio">
                Leonardo di ser Piero da Vinci was an Italian polymath of the
                High Renaissance who was active as a painter, draughtsman,
                engineer, scientist, theorist, sculptor, and architect.
              </div>
            </div>
            <div class="painter-card van-gogh">
              <img src="images/da vinsi.png" alt="Vincent Van Gogh" />
              <div class="painter-name">Vincent Van Gogh</div>
              <div class="painter-bio">
                Vincent Willem van Gogh was a Dutch Post-Impressionist painter
                who is among the most famous and influential figures in the
                history of Western art.
              </div>
            </div>
            <div class="painter-card monet">
              <img src="images/claude ml gods.png" alt="Claude Monet" />
              <div class="painter-name">Claude Monet</div>
              <div class="painter-bio">
                Oscar-Claude Monet was a French painter and founder of
                Impressionism painting who is seen as a key precursor to
                modernism, especially in his attempts to paint nature as he
                perceived it.
              </div>
            </div>
          </div>
        </section>
        <!-- Image Modal/Popup -->
        <div class="image-modal" id="imageModal">
          <button class="modal-close" id="modalClose">&times;</button>
          <div class="modal-content">
            <img class="modal-img" id="modalImg" src="" alt="" />
            <div class="modal-caption" id="modalCaption"></div>
            <div class="modal-zoom-controls">
              <button class="zoom-btn" id="zoomIn">+</button>
              <button class="zoom-btn" id="zoomOut">-</button>
              <button class="zoom-btn" id="zoomReset">↺</button>
            </div>
            <div class="modal-swipe-indicator">Swipe to navigate</div>
          </div>
          <div class="modal-loading" id="modalLoading" style="display: none">
            Loading
          </div>
        </div>
        <div class="section-divider"></div>

        <!-- Contemporary Art Section -->
        <div id="contemporary-art" class="section contemporary-art">
          <div class="section-title contemporary-art-title">
            Contemporary Art
          </div>
          <div class="art-section-container">
            <!-- Julie Mehretu -->
            <div class="artwork-group julie">
              <img
                class="artwork-img"
                src="contemporary/julie.jpg"
                alt="Everywhen by Julie Mehretu"
              />
            </div>
            <div class="artwork-info julie">
              <span class="artwork-title">Julie Mehretu</span><br />
              <span class="artwork-details">Everywhen<br />2021 - 2023</span>
            </div>

            <!-- Joan Snyder -->
            <div class="artwork-group joan">
              <img
                class="artwork-img"
                src="contemporary/joan.jpg"
                alt="My August by Joan Snyder"
              />
            </div>
            <div class="artwork-info joan">
              <span class="artwork-title">Joan Snyder</span><br />
              <span class="artwork-details">My August<br />2023</span>
            </div>

            <!-- Julian Schnabel -->
            <div class="artwork-group julian">
              <img
                class="artwork-img"
                src="contemporary/julian.jpg"
                alt="Portrait of Agnes Gund by Julian Schnabel"
              />
            </div>
            <div class="artwork-info julian">
              <span class="artwork-title">Julian Schnabel</span><br />
              <span class="artwork-details"
                >Portrait of Agnes Gund<br />2021</span
              >
            </div>

            <!-- Santiago Yahuarcani -->
            <div class="artwork-group santiago">
              <img
                class="artwork-img"
                src="contemporary/yamaguchi.jpg"
                alt="Cosmovisión Huitoto by Santiago Yahuarcani"
              />
            </div>
            <div class="artwork-info santiago">
              <span class="artwork-title">Santiago Yahuarcani</span><br />
              <span class="artwork-details">Cosmovisión Huitoto<br />2022</span>
            </div>

            <!-- Julian Lethbridge -->
            <div class="artwork-group lethbridge">
              <img
                class="artwork-img"
                src="contemporary/letbrid.png"
                alt="Carpenter's Square by Julian Lethbridge"
              />
            </div>
            <div class="artwork-info lethbridge">
              <span class="artwork-title">Julian Lethbridge</span><br />
              <span class="artwork-details">Carpenter's Square<br />2021</span>
            </div>

            <!-- Mark Grotjahn -->
            <div class="artwork-group mark">
              <img
                class="artwork-img"
                src="contemporary/Michael Armitage.png"
                alt="(Circus No. 3 Face 44.20) by Mark Grotjahn"
              />
            </div>
            <div class="artwork-info mark">
              <span class="artwork-title">Mark Grotjahn</span><br />
              <span class="artwork-details"
                >(Circus No. 3 Face 44.20)<br />2013</span
              >
            </div>

            <!-- Josh Smith -->
            <div class="artwork-group josh">
              <img
                class="artwork-img"
                src="contemporary/Mark Grotjahn.png"
                alt="Artwork by Josh Smith"
              />
            </div>
            <div class="artwork-info josh">
              <span class="artwork-title">Josh Smith</span><br />
              <span class="artwork-details">Untitled<br />2013</span>
            </div>

            <!-- Michael Armitage -->
            <div class="artwork-group michael">
              <img
                class="artwork-img"
                src="contemporary/Josh Smith.png"
                alt="Curfew (Likoni March 27 2020) by Michael Armitage"
              />
            </div>
            <div class="artwork-info michael">
              <span class="artwork-title">Michael Armitage</span><br />
              <span class="artwork-details"
                >Curfew (Likoni March 27 2020)<br />2022</span
              >
            </div>
          </div>
        </div>

        <div class="section-divider"></div>

        <!-- Modern Art Section -->
        <div id="modern-art" class="section modern-art">
          <div class="section-title modern-art-title">Modern Art</div>
          <div class="art-section-container">
            <!-- Richard Paul Lohse -->
            <div class="artwork-group richard">
              <img
                class="artwork-img"
                src="modern/Richard Paul Lohse.png"
                alt="Fifteen Systematic Color Rows by Richard Paul Lohse"
              />
            </div>
            <div class="artwork-info richard">
              <span class="artwork-title">Richard Paul Lohse</span><br />
              <span class="artwork-details"
                >Fifteen Systematic Color Rows<br />1950</span
              >
            </div>

            <!-- Jan Mauller -->
            <div class="artwork-group jan">
              <img
                class="artwork-img"
                src="modern/Jan Mauller.png"
                alt="Faust, I by Jan Mauller"
              />
            </div>
            <div class="artwork-info jan">
              <span class="artwork-title">Jan Mauller</span><br />
              <span class="artwork-details">Faust, I<br />1956</span>
            </div>

            <!-- Raphael Soyer -->
            <div class="artwork-group raphael">
              <img
                class="artwork-img"
                src="modern/Rapahael Soyer.png"
                alt="Seamstress by Raphael Soyer"
              />
            </div>
            <div class="artwork-info raphael">
              <span class="artwork-title">Raphael Soyer</span><br />
              <span class="artwork-details">Seamstress<br />1956</span>
            </div>

            <!-- Jane Wilson -->
            <div class="artwork-group jane">
              <img
                class="artwork-img"
                src="modern/Jane Wilson.png"
                alt="The Open Scene by Jane Wilson"
              />
            </div>
            <div class="artwork-info jane">
              <span class="artwork-title">Jane Wilson</span><br />
              <span class="artwork-details">The Open Scene<br />1960</span>
            </div>

            <!-- Salvatore Scarpitta -->
            <div class="artwork-group salvatore">
              <img
                class="artwork-img"
                src="modern/Salvatore Scarpitta.png"
                alt="Composition, I by Salvatore Scarpitta"
              />
            </div>
            <div class="artwork-info salvatore">
              <span class="artwork-title">Salvatore Scarpitta</span><br />
              <span class="artwork-details">Composition, I<br />1959</span>
            </div>

            <!-- Elmer Bischoff -->
            <div class="artwork-group elmer">
              <img
                class="artwork-img"
                src="modern/Elmer BIschoff.png"
                alt="Girl Wading by Elmer Bischoff"
              />
            </div>
            <div class="artwork-info elmer">
              <span class="artwork-title">Elmer Bischoff</span><br />
              <span class="artwork-details">Girl Wading<br />1959</span>
            </div>

            <!-- Remedios Varo -->
            <div class="artwork-group remedios">
              <img
                class="artwork-img"
                src="modern/Remedios Varo.png"
                alt="The Juggler (The Magician) by Remedios Varo"
              />
            </div>
            <div class="artwork-info remedios">
              <span class="artwork-title">Remedios Varo</span><br />
              <span class="artwork-details"
                >The Juggler (The Magician)<br />1956</span
              >
            </div>

            <!-- Jean Dubuffet -->
            <div class="artwork-group jean">
              <img
                class="artwork-img"
                src="modern/Jean Dubuffet.png"
                alt="Head of a Girl by Jean Dubuffet"
              />
            </div>
            <div class="artwork-info jean">
              <span class="artwork-title">Jean Dubuffet</span><br />
              <span class="artwork-details"
                >Head of a Girl from Assemblages d'empreintes series<br />1954</span
              >
            </div>
          </div>
        </div>

        <div class="section-divider"></div>

        <!-- Renaissance Art Section -->
        <div id="renaissance-art" class="section renaissance-art">
          <div class="section-title renaissance-art-title">Renaissance Art</div>
          <div class="art-section-container">
            <!-- Use BOTH classes - old for CSS, new for semantics -->
            <div class="artwork-group caravaggio-medusa botticelli-portrait">
              <img
                class="artwork-img"
                src="renaissance/Idealized Portrait of a Lady (Portrait of Simonetta Vespucci as Nymph).png"
                alt="Idealized Portrait of a Lady (Portrait of Simonetta Vespucci as Nymph) by Sandro Botticelli"
              />
            </div>
            <div class="artwork-info caravaggio-medusa botticelli-portrait">
              <span class="artwork-title">Sandro Botticelli</span><br />
              <span class="artwork-details"
                >Idealized Portrait of a Lady<br />1480</span
              >
            </div>
            <!-- Titian -->
            <div class="artwork-group titian">
              <img
                class="artwork-img"
                src="renaissance/Titian.png"
                alt="Venus of Urbino by Titian"
              />
            </div>
            <div class="artwork-info titian">
              <span class="artwork-title">Titian</span><br />
              <span class="artwork-details">Venus of Urbino<br />1538</span>
            </div>

            <!-- Leonardo da Vinci -->
            <div class="artwork-group leonardo-lady">
              <img
                class="artwork-img"
                src="renaissance/Leonardo da Vinci.png"
                alt="Lady with an Ermine by Leonardo da Vinci"
              />
            </div>
            <div class="artwork-info leonardo-lady">
              <span class="artwork-title">Leonardo da Vinci</span><br />
              <span class="artwork-details">Lady with an Ermine<br />1489</span>
            </div>

            <!-- Caravaggio - Supper at Emmaus -->
            <div class="artwork-group caravaggio-supper">
              <img
                class="artwork-img"
                src="renaissance/Caravaggio.png"
                alt="Supper at Emmaus by Caravaggio"
              />
            </div>
            <div class="artwork-info caravaggio-supper">
              <span class="artwork-title">Caravaggio</span><br />
              <span class="artwork-details">Supper at Emmaus<br />1601</span>
            </div>

            <!-- Leonardo da Vinci - Ginevra de' Benci -->
            <div class="artwork-group leonardo-ginevra">
              <img
                class="artwork-img"
                src="renaissance/Leonardo da Vinci 1.png"
                alt="Ginevra de' Benci by Leonardo da Vinci"
              />
            </div>
            <div class="artwork-info leonardo-ginevra">
              <span class="artwork-title">Leonardo da Vinci</span><br />
              <span class="artwork-details">Ginevra de' Benci<br />1474</span>
            </div>

            <!-- Pieter Bruegel the Elder -->
            <div class="artwork-group pieter">
              <img
                class="artwork-img"
                src="renaissance/Pieter Bruegel the Elder.png"
                alt="The Dutch Proverbs by Pieter Bruegel the Elder"
              />
            </div>
            <div class="artwork-info pieter">
              <span class="artwork-title">Pieter Bruegel the Elder</span><br />
              <span class="artwork-details">The Dutch Proverbs<br />1559</span>
            </div>

            <!-- Raphael -->
            <div class="artwork-group raphael-renaissance">
              <img
                class="artwork-img"
                src="renaissance/Raphael.png"
                alt="Madonna of the Goldfinch by Raphael"
              />
            </div>
            <div class="artwork-info raphael-renaissance">
              <span class="artwork-title">Raphael</span><br />
              <span class="artwork-details"
                >Madonna of the Goldfinch<br />1505 - 1506</span
              >
            </div>

            <!-- Caravaggio - Cupid as Victor -->
            <div class="artwork-group caravaggio-cupid">
              <img
                class="artwork-img"
                src="renaissance/Caravaggio 1.png"
                alt="Cupid as Victor by Caravaggio"
              />
            </div>
            <div class="artwork-info caravaggio-cupid">
              <span class="artwork-title">Caravaggio</span><br />
              <span class="artwork-details">Cupid as Victor<br />1601</span>
            </div>
          </div>
        </div>

        <div class="section-divider"></div>

        <!-- Photography Section -->
        <div id="photography" class="section photography">
          <div class="section-title photography-title">Photography</div>
          <div class="art-section-container">
            <!-- Lena Koval -->
            <div class="artwork-group lena">
              <img
                class="artwork-img"
                src="photography/Lena Koval.png"
                alt="Eclipsed Horizons by Lena Koval"
              />
            </div>
            <div class="artwork-info lena">
              <span class="artwork-title">Lena Koval</span><br />
              <span class="artwork-details">Eclipsed Horizons</span>
            </div>

            <!-- Miles Grantt -->
            <div class="artwork-group miles">
              <img
                class="artwork-img"
                src="photography/Miles Grantt.png"
                alt="Nighttime Reverie by Miles Grantt"
              />
            </div>
            <div class="artwork-info miles">
              <span class="artwork-title">Miles Grantt</span><br />
              <span class="artwork-details">Nighttime Reverie</span>
            </div>

            <!-- Emilie Möri -->
            <div class="artwork-group emilie">
              <img
                class="artwork-img"
                src="photography/Emilie Möri.png"
                alt="Fuerte N°02 by Emilie Möri"
              />
            </div>
            <div class="artwork-info emilie">
              <span class="artwork-title">Emilie Möri</span><br />
              <span class="artwork-details">Fuerte N°02 Photograph</span>
            </div>

            <!-- Igor Vitomirov -->
            <div class="artwork-group igor">
              <img
                class="artwork-img"
                src="photography/Igor Vitomirov.png"
                alt="8142 Photograph by Igor Vitomirov"
              />
            </div>
            <div class="artwork-info igor">
              <span class="artwork-title">Igor Vitomirov</span><br />
              <span class="artwork-details">8142 Photograph</span>
            </div>

            <!-- Kristin Hart -->
            <div class="artwork-group kristin">
              <img
                class="artwork-img"
                src="photography/Kristin Hart.png"
                alt="Lean My Heart by Kristin Hart"
              />
            </div>
            <div class="artwork-info kristin">
              <span class="artwork-title">Kristin Hart</span><br />
              <span class="artwork-details"
                >Lean My Heart, Blue Ridge Mountains Photograph</span
              >
            </div>
          </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
          <div class="footer-logo">THE GALLERY</div>
          <div class="footer-copyright">©2025, All rights reserved.</div>
        </footer>
      </div>
    </div>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        initMobileMenu();
        initNavigation();
        initScrollAnimations();
        initCarousels();
        initImageModal();
        initBackgroundAudio();
        initLoadingScreen();
      });

      function initMobileMenu() {
        const mobileToggle = document.querySelector(".mobile-menu-toggle");
        const sidebar = document.querySelector(".sidebar");
        const overlay = document.querySelector(".mobile-overlay");

        if (!mobileToggle || !sidebar || !overlay) return;

        mobileToggle.addEventListener("click", function () {
          this.classList.toggle("active");
          sidebar.classList.toggle("active");
          overlay.classList.toggle("active");
        });

        overlay.addEventListener("click", function () {
          mobileToggle.classList.remove("active");
          sidebar.classList.remove("active");
          this.classList.remove("active");
        });
      }

      function initNavigation() {
        const navItems = document.querySelectorAll(".nav-item");

        navItems.forEach((item) => {
          item.addEventListener("click", function () {
            const href = this.getAttribute("data-href");

            closeMobileMenu();

            if (href && href.includes(".html")) {
              window.location.href = href;
              return;
            }

            updateActiveNavItem(this);
            scrollToSection(this.querySelector(".nav-text").textContent);
          });
        });
      }

      function closeMobileMenu() {
        const mobileToggle = document.querySelector(".mobile-menu-toggle");
        const sidebar = document.querySelector(".sidebar");
        const overlay = document.querySelector(".mobile-overlay");

        if (mobileToggle?.classList.contains("active")) {
          mobileToggle.classList.remove("active");
          sidebar?.classList.remove("active");
          overlay?.classList.remove("active");
        }
      }

      function updateActiveNavItem(activeItem) {
        document.querySelectorAll(".nav-item").forEach((item) => {
          item.classList.remove("active");
        });
        activeItem.classList.add("active");
      }

      function scrollToSection(navText) {
        if (navText === "Home") {
          smoothScrollTo(0, 1200);
          return;
        }

        const targetId = navText.toLowerCase().replace(/\s+/g, "-");
        const targetElement = document.getElementById(targetId);

        if (targetElement) {
          const headerOffset = 100;
          const elementPosition = targetElement.getBoundingClientRect().top;
          const offsetPosition =
            elementPosition + window.pageYOffset - headerOffset;

          smoothScrollTo(offsetPosition, 1000);
          return;
        }

        const sections = document.querySelectorAll(
          ".section-title, .painters-title"
        );
        for (let section of sections) {
          if (
            section.textContent.toLowerCase().includes(navText.toLowerCase())
          ) {
            const parentSection = section.closest(".section");
            if (parentSection) {
              const headerOffset = 100;
              const elementPosition = parentSection.getBoundingClientRect().top;
              const offsetPosition =
                elementPosition + window.pageYOffset - headerOffset;

              smoothScrollTo(offsetPosition, 1000);
              break;
            }
          }
        }
      }

      function smoothScrollTo(to, duration = 1000) {
        const start = window.pageYOffset;
        const change = to - start;
        const startTime = performance.now();

        function easeInOutCubic(t) {
          return t < 0.5 ? 4 * t * t * t : 1 - Math.pow(-2 * t + 2, 3) / 2;
        }

        function animate(currentTime) {
          const elapsed = currentTime - startTime;
          const progress = Math.min(elapsed / duration, 1);

          const eased = easeInOutCubic(progress);
          const position = start + change * eased;

          window.scrollTo(0, position);

          if (progress < 1) {
            requestAnimationFrame(animate);
          }
        }

        requestAnimationFrame(animate);
      }

      function initScrollAnimations() {
        const observerOptions = {
          root: null,
          rootMargin: "0px",
          threshold: 0.1,
        };
        const observer = new IntersectionObserver(
          handleIntersection,
          observerOptions
        );

        const sections = document.querySelectorAll(
          ".painters-section, .contemporary-art, .modern-art, .renaissance-art, .photography, .footer"
        );
        sections.forEach((section) => observer.observe(section));

        const dividerObserver = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) entry.target.classList.add("visible");
            });
          },
          { threshold: 0.5 }
        );

        document.querySelectorAll(".section-divider").forEach((divider) => {
          dividerObserver.observe(divider);
        });

        setTimeout(() => {
          document.querySelectorAll(".painter-card").forEach((card, index) => {
            setTimeout(() => card.classList.add("visible"), 500 + index * 300);
          });
        }, 1000);

        setTimeout(() => {
          document.querySelector(".sidebar")?.classList.add("loaded");
        }, 800);
      }

      function handleIntersection(entries) {
        entries.forEach((entry) => {
          if (!entry.isIntersecting) return;

          entry.target.classList.add("visible");

          if (entry.target.classList.contains("painters-section")) {
            entry.target
              .querySelectorAll(".painter-card")
              .forEach((card, index) => {
                setTimeout(() => card.classList.add("visible"), index * 200);
              });
          }

          const artSections = [
            "contemporary-art",
            "modern-art",
            "renaissance-art",
            "photography",
          ];
          if (artSections.some((cls) => entry.target.classList.contains(cls))) {
            animateArtworkSection(entry.target);
          }
        });
      }

      function animateArtworkSection(section) {
        section.querySelectorAll(".artwork-img").forEach((img, index) => {
          setTimeout(() => img.classList.add("visible"), index * 100);
        });

        section.querySelectorAll(".artwork-info").forEach((info, index) => {
          setTimeout(() => info.classList.add("visible"), index * 100 + 200);
        });
      }

      function initCarousels() {
        initializeCarousels();
        window.addEventListener("resize", initializeCarousels);
      }

      function initializeCarousels() {
        if (window.innerWidth > 1024) {
          document
            .querySelectorAll(".painters-container, .art-section-container")
            .forEach((container) => {
              container.style.display = "block";
            });
          return;
        }

        createPainterCarousel();
        createArtworkCarousels();
      }

      function createPainterCarousel() {
        const painterCards = document.querySelectorAll(".painter-card");
        if (painterCards.length === 0) return;

        const paintersContainer = document.querySelector(".painters-container");
        if (!paintersContainer) return;

        paintersContainer.style.display = "none";

        let carouselContainer = document.querySelector(
          ".painters-carousel-container"
        );
        if (carouselContainer) return;

        carouselContainer = document.createElement("div");
        carouselContainer.className = "painters-carousel-container";
        paintersContainer.parentNode.insertBefore(
          carouselContainer,
          paintersContainer.nextSibling
        );

        const carouselHTML = `
    <div class="carousel-container">
      <div class="carousel-slides">
        ${Array.from(painterCards)
          .map(
            (card, index) => `
          <div class="carousel-slide polaroid ${index === 0 ? "active" : ""}">
            <div class="painter-card">
              ${card.querySelector("img").outerHTML}
              ${card.querySelector(".painter-name").outerHTML}
              ${card.querySelector(".painter-bio").outerHTML}
            </div>
          </div>
        `
          )
          .join("")}
      </div>
      <div class="carousel-controls">
        <button class="carousel-btn prev-btn">‹</button>
        <button class="carousel-btn next-btn">›</button>
      </div>
      <div class="carousel-dots">
        ${Array.from(painterCards)
          .map(
            (_, index) => `
          <button class="carousel-dot ${
            index === 0 ? "active" : ""
          }" data-index="${index}"></button>
        `
          )
          .join("")}
      </div>
    </div>
  `;

        carouselContainer.innerHTML = carouselHTML;
        setupCarousel(
          ".painters-carousel-container .carousel-container",
          painterCards.length
        );
      }

      function createArtworkCarousels() {
        [
          "contemporary-art",
          "modern-art",
          "renaissance-art",
          "photography",
        ].forEach((sectionId) => {
          const section = document.getElementById(sectionId);
          if (!section) return;

          const artContainer = section.querySelector(".art-section-container");
          if (!artContainer) return;

          artContainer.style.display = "none";

          if (section.querySelector(".art-carousel-container")) return;

          const artworkImgs = section.querySelectorAll(".artwork-img");
          const artworkInfos = section.querySelectorAll(".artwork-info");

          if (artworkImgs.length === 0) return;

          const carouselContainer = document.createElement("div");
          carouselContainer.className = "art-carousel-container";
          artContainer.parentNode.insertBefore(
            carouselContainer,
            artContainer.nextSibling
          );

          const slides = [];
          for (
            let i = 0;
            i < Math.max(artworkImgs.length, artworkInfos.length);
            i++
          ) {
            const img = artworkImgs[i]?.outerHTML || "";
            const info = artworkInfos[i]?.outerHTML || "";
            slides.push({ img, info });
          }

          const carouselHTML = `
      <div class="carousel-container">
        <div class="carousel-slides">
          ${slides
            .map(
              (slide, index) => `
            <div class="carousel-slide polaroid ${index === 0 ? "active" : ""}">
              ${slide.img}
              ${slide.info}
            </div>
          `
            )
            .join("")}
        </div>
        <div class="carousel-controls">
          <button class="carousel-btn prev-btn">‹</button>
          <button class="carousel-btn next-btn">›</button>
        </div>
        <div class="carousel-dots">
          ${slides
            .map(
              (_, index) => `
            <button class="carousel-dot ${
              index === 0 ? "active" : ""
            }" data-index="${index}"></button>
          `
            )
            .join("")}
        </div>
      </div>
    `;

          carouselContainer.innerHTML = carouselHTML;
          setupCarousel(
            `#${sectionId} .art-carousel-container .carousel-container`,
            slides.length
          );
        });
      }

      function setupCarousel(containerSelector, totalSlides) {
        const container = document.querySelector(containerSelector);
        if (!container) return;

        const slides = container.querySelectorAll(".carousel-slide");
        const prevBtn = container.querySelector(".prev-btn");
        const nextBtn = container.querySelector(".next-btn");
        const dots = container.querySelectorAll(".carousel-dot");

        let currentSlide = 0;

        function showSlide(index) {
          slides.forEach((slide) => slide.classList.remove("active"));
          dots.forEach((dot) => dot.classList.remove("active"));

          slides[index].classList.add("active");
          dots[index].classList.add("active");
          currentSlide = index;
        }

        function nextSlide() {
          showSlide((currentSlide + 1) % totalSlides);
        }

        function prevSlide() {
          showSlide((currentSlide - 1 + totalSlides) % totalSlides);
        }

        prevBtn?.addEventListener("click", prevSlide);
        nextBtn?.addEventListener("click", nextSlide);

        dots.forEach((dot, index) => {
          dot.addEventListener("click", () => showSlide(index));
        });

        let touchStartX = 0;
        container.addEventListener("touchstart", (e) => {
          touchStartX = e.changedTouches[0].screenX;
        });

        container.addEventListener("touchend", (e) => {
          const touchEndX = e.changedTouches[0].screenX;
          const diff = touchStartX - touchEndX;
          const swipeThreshold = 50;

          if (Math.abs(diff) > swipeThreshold) {
            diff > 0 ? nextSlide() : prevSlide();
          }
        });
      }

      function initImageModal() {
        console.log("initImageModal called, window width:", window.innerWidth);

        const modal = {
          element: document.getElementById("imageModal"),
          img: document.getElementById("modalImg"),
          caption: document.getElementById("modalCaption"),
          close: document.getElementById("modalClose"),
          loading: document.getElementById("modalLoading"),
          zoomIn: document.getElementById("zoomIn"),
          zoomOut: document.getElementById("zoomOut"),
          zoomReset: document.getElementById("zoomReset"),
        };

        console.log("Modal elements:", {
          element: !!modal.element,
          img: !!modal.img,
          close: !!modal.close,
        });

        if (!modal.element) {
          console.error("Image modal element not found!");
          // Create modal if it doesn't exist
          createModal();
          return;
        }

        let allImages = [];
        let currentImageIndex = 0;
        let currentScale = 1;
        let isDesktop = window.innerWidth > 1024;

        // Collect all images
        collectClickableImages();

        // Setup for both desktop and mobile, but with different behaviors
        if (isDesktop) {
          // Desktop: Add hover effects and visual feedback
          setupDesktopImageInteractions();
        } else {
          // Mobile: Just make images clickable without hover effects
          setupMobileImageInteractions();
        }

        setupModalEvents();

        function setupDesktopImageInteractions() {
          console.log("Setting up desktop image interactions...");

          allImages.forEach((imageData) => {
            const img = imageData.element;

            // Make clickable
            img.style.cursor = "pointer";
            img.setAttribute("tabindex", "0");
            img.setAttribute("role", "button");
            img.setAttribute("aria-label", `View ${img.alt} in larger detail`);

            // Add hover effects
            if (imageData.type === "painter") {
              img.addEventListener("mouseenter", () => {
                img.style.transform = "scale(1.02)";
                img.style.transition = "transform 0.3s ease";
              });

              img.addEventListener("mouseleave", () => {
                img.style.transform = "scale(1)";
              });
            } else if (imageData.type === "artwork") {
              img.addEventListener("mouseenter", () => {
                img.style.transform = "scale(1.01)";
                img.style.opacity = "0.95";
                img.style.transition = "transform 0.3s ease, opacity 0.3s ease";
              });

              img.addEventListener("mouseleave", () => {
                img.style.transform = "scale(1)";
                img.style.opacity = "1";
              });
            }

            // Click listener
            img.addEventListener("click", function (e) {
              console.log("Image clicked on desktop:", img.alt);
              e.stopPropagation();
              handleImageClick(this);
            });
          });
        }

        function setupMobileImageInteractions() {
          console.log("Setting up mobile image interactions...");

          allImages.forEach((imageData) => {
            const img = imageData.element;

            // Make clickable
            img.style.cursor = "pointer";
            img.setAttribute("tabindex", "0");
            img.setAttribute("role", "button");
            img.setAttribute("aria-label", `Tap to view ${img.alt}`);

            // Touch/click listener for mobile
            img.addEventListener("click", function (e) {
              console.log("Image tapped on mobile:", img.alt);
              e.stopPropagation();
              handleImageClick(this);
            });

            // Also support touch events for better mobile UX
            img.addEventListener(
              "touchstart",
              function (e) {
                // Add touch feedback
                this.style.opacity = "0.8";
              },
              { passive: true }
            );

            img.addEventListener(
              "touchend",
              function (e) {
                this.style.opacity = "1";
              },
              { passive: true }
            );
          });
        }

        function handleImageClick(imgElement) {
          console.log("handleImageClick called for:", imgElement.src);

          // Add click animation (desktop only)
          if (isDesktop) {
            imgElement.classList.add("image-clicked");
            setTimeout(() => {
              imgElement.classList.remove("image-clicked");
            }, 600);
          }

          // Find this image in our collection
          const clickedSrc = imgElement.src;
          currentImageIndex = allImages.findIndex(
            (imgData) => imgData.src === clickedSrc
          );

          console.log("Found at index:", currentImageIndex);

          if (currentImageIndex !== -1) {
            openModal(currentImageIndex);
          } else {
            console.error("Image not found in collection!");
            openSingleImage(imgElement);
          }
        }

        function collectClickableImages() {
          allImages = [];
          console.log("Collecting all clickable images...");

          // Painter cards - check for both desktop and mobile versions
          const painterImages = document.querySelectorAll(
            ".painter-card img, .painters-carousel-container .painter-card img"
          );
          console.log("Found painter images:", painterImages.length);

          painterImages.forEach((img, index) => {
            // Find the closest card container
            const card = img.closest(".painter-card");
            if (!card) return;

            const name =
              card.querySelector(".painter-name")?.textContent ||
              `Painter ${index + 1}`;
            const bio = card.querySelector(".painter-bio")?.textContent || "";

            allImages.push({
              element: img,
              src: img.src,
              alt: img.alt,
              title: name,
              description: bio,
              type: "painter",
            });
          });

          // Artwork images - check for both grid and carousel versions
          const artworkImages = document.querySelectorAll(
            ".artwork-img, .art-carousel-container .artwork-img"
          );
          console.log("Found artwork images:", artworkImages.length);

          artworkImages.forEach((img, index) => {
            // Try to find artwork info
            let title = img.alt;
            let details = "";

            // Check if there's a sibling .artwork-info element
            const parent = img.closest(".artwork-group, .carousel-slide");
            if (parent) {
              const infoElement =
                parent.querySelector(".artwork-info") ||
                parent.nextElementSibling?.classList.contains("artwork-info")
                  ? parent.nextElementSibling
                  : null;

              if (infoElement) {
                title =
                  infoElement.querySelector(".artwork-title")?.textContent ||
                  img.alt;
                details =
                  infoElement.querySelector(".artwork-details")?.textContent ||
                  "";
              }
            }

            allImages.push({
              element: img,
              src: img.src,
              alt: img.alt,
              title: title,
              details: details,
              type: "artwork",
            });
          });

          // Hero image
          const heroImage = document.querySelector(".hero-image");
          if (heroImage) {
            allImages.push({
              element: heroImage,
              src: heroImage.src,
              alt: heroImage.alt,
              title: "THE GALLERY",
              description: "Welcome to our curated art collection",
              type: "hero",
            });
          }

          console.log("Total images collected:", allImages.length);
        }

        function openModal(index) {
          console.log("openModal called with index:", index);

          if (index < 0 || index >= allImages.length) {
            console.error("Invalid index:", index);
            return;
          }

          currentImageIndex = index;
          const imageData = allImages[index];

          modal.loading.style.display = "block";
          modal.img.style.opacity = "0";
          modal.caption.innerHTML = "";

          const img = new Image();
          img.onload = function () {
            console.log("Image loaded successfully");
            modal.img.src = imageData.src;
            modal.img.alt = imageData.alt;

            // Set caption
            let caption = "";
            if (imageData.type === "painter") {
              caption = `<strong>${imageData.title}</strong><br><br>${imageData.description}`;
            } else if (imageData.type === "artwork") {
              caption = `<strong>${imageData.title}</strong><br>${imageData.details}`;
            } else {
              caption = `<strong>${imageData.title}</strong><br>${imageData.description}`;
            }

            modal.caption.innerHTML = caption;

            // Show modal
            modal.element.classList.add("active");
            modal.element.setAttribute("aria-hidden", "false");
            document.body.style.overflow = "hidden";

            setTimeout(() => {
              modal.loading.style.display = "none";
              modal.img.style.opacity = "1";
              resetZoom();

              // Focus close button for accessibility
              modal.close.focus();
            }, 300);
          };

          img.onerror = function () {
            console.error("Failed to load image:", imageData.src);
            modal.loading.textContent = "Failed to load image";
            setTimeout(() => {
              modal.loading.style.display = "none";
              closeModal();
            }, 2000);
          };

          img.src = imageData.src;
        }

        function closeModal() {
          console.log("Closing modal");

          modal.element.classList.remove("active");
          modal.element.setAttribute("aria-hidden", "true");
          document.body.style.overflow = "";
          resetZoom();
        }

        function resetZoom() {
          currentScale = 1;
          modal.img.style.transform = `scale(${currentScale})`;
          modal.img.style.transformOrigin = "center center";
        }

        function setupModalEvents() {
          console.log("Setting up modal events for all devices");

          // Close modal
          modal.close.addEventListener("click", closeModal);

          // Close on background click
          modal.element.addEventListener("click", (e) => {
            if (e.target === modal.element) {
              closeModal();
            }
          });

          // Keyboard navigation (desktop)
          document.addEventListener("keydown", (e) => {
            if (!modal.element.classList.contains("active")) return;

            if (e.key === "Escape") {
              closeModal();
            } else if (e.key === "ArrowLeft") {
              if (currentImageIndex > 0) {
                openModal(currentImageIndex - 1);
              }
            } else if (e.key === "ArrowRight") {
              if (currentImageIndex < allImages.length - 1) {
                openModal(currentImageIndex + 1);
              }
            }
          });

          // Touch/swipe support (mobile)
          let touchStartX = 0;
          modal.element.addEventListener(
            "touchstart",
            (e) => {
              touchStartX = e.changedTouches[0].screenX;
            },
            { passive: true }
          );

          modal.element.addEventListener(
            "touchend",
            (e) => {
              const touchEndX = e.changedTouches[0].screenX;
              const diff = touchStartX - touchEndX;
              const swipeThreshold = 50;

              if (Math.abs(diff) > swipeThreshold) {
                if (diff > 0 && currentImageIndex < allImages.length - 1) {
                  openModal(currentImageIndex + 1);
                } else if (diff < 0 && currentImageIndex > 0) {
                  openModal(currentImageIndex - 1);
                }
              }
            },
            { passive: true }
          );

          // Zoom controls
          if (modal.zoomIn) {
            modal.zoomIn.addEventListener("click", () => {
              currentScale = Math.min(currentScale + 0.2, 3);
              modal.img.style.transform = `scale(${currentScale})`;
            });
          }

          if (modal.zoomOut) {
            modal.zoomOut.addEventListener("click", () => {
              currentScale = Math.max(currentScale - 0.2, 0.5);
              modal.img.style.transform = `scale(${currentScale})`;
            });
          }

          if (modal.zoomReset) {
            modal.zoomReset.addEventListener("click", resetZoom);
          }
        }

        function createModal() {
          console.log("Creating modal element");

          const modalHTML = `
      <div class="image-modal" id="imageModal" role="dialog" aria-modal="true" aria-labelledby="modalCaption" aria-hidden="true">
        <button class="modal-close" id="modalClose" aria-label="Close image view">&times;</button>
        <div class="modal-content">
          <img class="modal-img" id="modalImg" src="" alt="" />
          <div class="modal-caption" id="modalCaption" role="region" aria-live="polite"></div>
          <div class="modal-zoom-controls">
            <button class="zoom-btn" id="zoomIn" aria-label="Zoom in">+</button>
            <button class="zoom-btn" id="zoomOut" aria-label="Zoom out">-</button>
            <button class="zoom-btn" id="zoomReset" aria-label="Reset zoom">↺</button>
          </div>
          <div class="modal-swipe-indicator" aria-hidden="true">Swipe to navigate</div>
        </div>
        <div class="modal-loading" id="modalLoading" style="display: none" aria-live="assertive">Loading</div>
      </div>
    `;

          document.body.insertAdjacentHTML("beforeend", modalHTML);

          // Reinitialize with the new modal
          initImageModal();
        }

        // Update on resize
        window.addEventListener("resize", function () {
          isDesktop = window.innerWidth > 1024;

          // Re-setup interactions if needed
          allImages.forEach((imageData) => {
            const img = imageData.element;

            if (isDesktop) {
              // Re-add hover effects for desktop
              img.style.cursor = "pointer";

              if (imageData.type === "painter") {
                img.onmouseenter = null;
                img.onmouseleave = null;

                img.addEventListener("mouseenter", () => {
                  img.style.transform = "scale(1.02)";
                  img.style.transition = "transform 0.3s ease";
                });

                img.addEventListener("mouseleave", () => {
                  img.style.transform = "scale(1)";
                });
              }
            } else {
              // Remove hover effects for mobile
              img.style.cursor = "pointer";
              img.onmouseenter = null;
              img.onmouseleave = null;
              img.style.transform = "";
              img.style.opacity = "";
            }
          });
        });

        console.log("Image modal initialization complete for all devices");
      }

      function initBackgroundAudio() {
  const audio = document.getElementById("backgroundAudio");
  const audioToggle = document.getElementById("audioToggle");
  const audioIcon = audioToggle?.querySelector(".audio-icon");
  const mutedIcon = audioToggle?.querySelector(".muted-icon");
  const volumeControl = document.getElementById("volumeControl");
  const volumeLevel = document.querySelector(".volume-level");
  const audioControls = document.querySelector(".audio-controls");

  if (!audio || !audioToggle) return;

  const isMuted = localStorage.getItem("galleryAudioMuted") === "true";
  const savedVolume = localStorage.getItem("galleryAudioVolume") || 30;

  audio.volume = savedVolume / 100;
  volumeControl.value = savedVolume;
  if (volumeLevel) volumeLevel.textContent = `${savedVolume}%`;

  if (isMuted) {
    audio.pause();
    updateAudioUI(false);
  } else {
    audio.play().then(() => {
      updateAudioUI(true);
    }).catch(() => {
      updateAudioUI(false);
      localStorage.setItem("galleryAudioMuted", "true");
    });
  }

  audioToggle.addEventListener("click", function (e) {
    e.stopPropagation();

    if (audio.paused) {
      audio.play().then(() => {
        updateAudioUI(true);
        localStorage.setItem("galleryAudioMuted", "false");
        this.classList.add("active");
      }).catch(() => {
        showMobileNotification("Tap anywhere to enable audio");
        this.classList.remove("active");
      });
    } else {
      audio.pause();
      updateAudioUI(false);
      localStorage.setItem("galleryAudioMuted", "true");
      this.classList.remove("active");
    }

    // Click animation
    this.classList.add("clicked");
    setTimeout(() => this.classList.remove("clicked"), 400);
  });

  volumeControl.addEventListener("input", function () {
    const volume = this.value / 100;
    audio.volume = volume;
    localStorage.setItem("galleryAudioVolume", this.value);
    
    // Update volume level display
    if (volumeLevel) volumeLevel.textContent = `${this.value}%`;
    
    // Show volume level temporarily
    volumeLevel.style.opacity = "1";
    setTimeout(() => {
      volumeLevel.style.opacity = "0";
    }, 1000);

    if (audio.paused) {
      audio.play().then(() => {
        updateAudioUI(true);
        localStorage.setItem("galleryAudioMuted", "false");
        audioToggle.classList.add("active");
      });
    }
  });

  volumeControl.addEventListener("change", function () {
    setTimeout(() => {
      volumeLevel.style.opacity = "0";
    }, 1000);
  });

  function updateAudioUI(isPlaying) {
    if (!audioIcon || !mutedIcon) return;

    if (isPlaying) {
      audioIcon.style.display = "block";
      mutedIcon.style.display = "none";
      audioToggle.classList.add("active");
    } else {
      audioIcon.style.display = "none";
      mutedIcon.style.display = "block";
      audioToggle.classList.remove("active");
    }
  }

  // Mobile optimizations
  if (window.innerWidth <= 768) {
    // Toggle compact mode on click
    audioToggle.addEventListener("click", function() {
      audioControls.classList.toggle("compact");
      
      // Auto-expand volume controls after interaction
      setTimeout(() => {
        if (!audioControls.classList.contains("compact")) {
          setTimeout(() => {
            audioControls.classList.add("compact");
          }, 3000);
        }
      }, 100);
    });

    // Show volume controls when touching volume icon
    document.querySelector(".volume-icon")?.addEventListener("click", function(e) {
      e.stopPropagation();
      audioControls.classList.remove("compact");
      volumeControl.focus();
      
      setTimeout(() => {
        audioControls.classList.add("compact");
      }, 5000);
    });
  }

  // Auto-compact after 5 seconds of inactivity on mobile
  if (window.innerWidth <= 768) {
    let inactivityTimer;
    function resetInactivityTimer() {
      clearTimeout(inactivityTimer);
      inactivityTimer = setTimeout(() => {
        audioControls.classList.add("compact");
      }, 5000);
    }
    
    audioControls.addEventListener("mouseenter", resetInactivityTimer);
    audioControls.addEventListener("touchstart", resetInactivityTimer);
    resetInactivityTimer();
  }
}

      function setupMobileAudioControls(audioToggle, audioControls) {
        if (window.innerWidth > 768) return;

        let touchStartTime = 0;
        let touchTimer = null;

        audioToggle.addEventListener(
          "touchstart",
          function () {
            touchStartTime = Date.now();
            touchTimer = setTimeout(() => {
              audioControls.classList.add("active");
            }, 500);
          },
          { passive: true }
        );

        audioToggle.addEventListener("touchend", function () {
          clearTimeout(touchTimer);
        });

        document.addEventListener("touchstart", function (e) {
          if (
            audioControls.classList.contains("active") &&
            !audioControls.contains(e.target)
          ) {
            audioControls.classList.remove("active");
          }
        });
      }

      function showMobileNotification(message) {
        let notification = document.querySelector(".audio-notification");
        if (!notification) {
          notification = document.createElement("div");
          notification.className = "audio-notification";
          document.body.appendChild(notification);
        }

        notification.textContent = message;
        notification.classList.add("show");

        setTimeout(() => {
          notification.classList.remove("show");
          setTimeout(() => notification.remove(), 300);
        }, 2000);
      }

      function initLoadingScreen() {
        const loadingScreen = document.getElementById("loadingScreen");
        if (!loadingScreen) return;

        const images = document.querySelectorAll("img");
        const totalImages = images.length;
        let loadedImages = 0;

        loadingScreen.style.display = "flex";
        updateLoadingText("Preparing gallery experience...");

        const progressBar = createProgressBar();
        loadingScreen
          .querySelector(".loading-content")
          .appendChild(progressBar);

        images.forEach((img) => {
          img.classList.add("image-loading");

          if (img.complete) {
            imageLoaded();
          } else {
            img.addEventListener("load", imageLoaded);
            img.addEventListener("error", imageLoaded);
            setTimeout(imageLoaded, 5000);
          }
        });

        if (totalImages === 0) {
          finishLoading();
        } else {
          setTimeout(finishLoading, 10000);
        }

        function imageLoaded() {
          loadedImages++;
          updateProgressBar(loadedImages, totalImages);
          updateLoadingText(`Loading images: ${loadedImages}/${totalImages}`);

          if (this?.classList) {
            this.classList.remove("image-loading");
          }

          if (loadedImages >= totalImages) {
            finishLoading();
          }
        }

        function finishLoading() {
          updateLoadingText("Entering The Gallery...");
          loadingScreen.classList.add("fade-out");

          setTimeout(() => {
            loadingScreen.style.display = "none";
            document.body.classList.add("loaded");

            const audio = document.getElementById("backgroundAudio");
            if (audio && !audio.paused) {
              audio
                .play()
                .catch((e) => console.log("Audio autoplay prevented"));
            }
          }, 800);
        }
      }

      function updateLoadingText(text) {
        const loadingText = document.querySelector(".loading-text");
        if (loadingText) loadingText.textContent = text;
      }

      function createProgressBar() {
        const container = document.createElement("div");
        container.className = "loading-progress";
        container.innerHTML =
          '<div class="loading-progress-bar" id="progressBar"></div>';
        return container;
      }

      function updateProgressBar(loaded, total) {
        const progressBar = document.getElementById("progressBar");
        if (progressBar) {
          const progress = (loaded / total) * 100;
          progressBar.style.width = `${progress}%`;
        }
      }

      window.testLoading = function (delay = 2000) {
        const loadingScreen = document.getElementById("loadingScreen");
        if (loadingScreen) {
          loadingScreen.style.display = "flex";
          loadingScreen.classList.remove("fade-out");
          setTimeout(() => {
            loadingScreen.classList.add("fade-out");
            setTimeout(() => (loadingScreen.style.display = "none"), 800);
          }, delay);
        }
      };

      window.showLoading = function () {
        const loadingScreen = document.getElementById("loadingScreen");
        if (loadingScreen) {
          loadingScreen.style.display = "flex";
          loadingScreen.classList.remove("fade-out");
        }
      };

      
    </script>
  </body>
</html>
